### How It Works
The CodeGenerator class takes an IRProgram and translates it into textual NASM assembly code for x86-64. It processes each function by allocating stack space for variables and parameters, emitting a function prologue (setting up the stack frame), handling parameter passing via registers (like rdi for the first param), and emitting instructions for each basic block. For each IR instruction, it generates corresponding assembly lines (e.g., converting an ADD operation to an addition in rax). It manages labels for control flow, infers branch targets for loops and conditionals, and adds an epilogue to clean up the stack. If an output file is specified, it writes there; otherwise, it uses the provided stream. Debug messages trace the process, and it throws errors for unsupported operations or file issues. Stack alignment is ensured to 16 bytes for ABI compliance.

### Example of Use
To use it, create an instance with an output stream, then call generate on a populated IRProgram, optionally providing a filename like "output.asm". The result is assembly code that can be assembled and linked into an executable, such as emitting a simple main function that adds two numbers and returns the result via syscall exit.
